Para la toma de datos se consideraron dos escenarios: el primero fue uno de los laboratorios situados en los Institutos Universitarios de Investigación de la Universidad de Extremadura, en el que se disponía de una superficie amplia y libre de objetos para tomar medidas en un escenario lo más cercano a lo ideal.

El segundo escenario fue la segunda planta del edificio B de la facultad de Física de la Universidad de Extremadura, elegido para acercarse a una disposición más general, con obstáculos entre las balizas y el objetivo.

\subsection{Toma de medidas}

En todos los casos la toma de medidas siguió el mismo procedimiento: en base a una trayectoria fijada que atraviesa una serie de puntos en cada escenario se toman un número prefijado de datos a partir de los sensores, con el robot parado en cada uno de dichos puntos.

Para determinar el número de medidas a tomar en cada caso se realizaron tomas de medidas previas para determinar la naturaleza de los datos obtenidos.
En todos los casos se obtuvo una distribución de tipo gaussiano, como se puede ver en la figura \ref{fig:datos_sensor}, por lo que se tomaron 50 datos en el caso del laboratorio y 250 en el caso del edificio de Física con el objetivo tener una dispersión al menos menor de 2cm tomando el mínimo número de datos.

\begin{figure}[H]
  \begin{subfigure}[b]{.5\textwidth}
    \centering
    \input{graph/ejemplo_sensores_x.tex} 
    \caption{Eje x}
    \label{fig:hist_x}
  \end{subfigure}
  \begin{subfigure}[b]{.5\textwidth}
    \centering
    \input{graph/ejemplo_sensores_y.tex}
    \caption{Eje y}
    \label{fig:hist_y}
  \end{subfigure}
  \caption{Histograma del posicionamiento de los sensores en uno de los puntos}
  \label{fig:datos_sensor}
\end{figure}

Además, para eliminar cualquier tipo de anomalía estadística cada trayectoria se repitió un mínimo de tres veces, tras las que se evaluaron los datos.
En los casos en los que la dispersión fue excesiva, se procedió a repetir de nuevo estas mediciones.

En las primeras tomas, donde se orientaba el robot hacia el siguiente punto de tal forma que su desplazamiento tomase el menor tiempo posible, se observó que el diseño de las antenas de los sensores utilizados, con una ganancia ligeramente dependiente del ángulo de incidencia \cite{ang}, hacía que, al girar el sensor asignado como objetivo, la estimación de su posición variase.

Esta observación también ha sido recogida en trabajos previos \cite{MSTesis}, donde se intentaba corregir a partir de medidas con distintos ángulos de incidencia.
Esto no es posible en el caso de este trabajo, ya que no versa sobre el desarrollo de un algoritmo de posicionamiento, sino sobre la precisión del ya implementado.
El algoritmo utilizado es propiedad de la empresa fabricante de los sensores, que no ha liberado detalles sobre su implementación, lo que hace imposible cualquier corrección.

Así, para minimizar este obstáculo todas las medidas que figuran en los resultados están tomadas colocando al robot con el mismo ángulo respecto a las balizas, de tal manera que no es necesario considerar variaciones en la posición obtenida debido a su orientación.

\subsection{Laboratorio}

La primera toma de medidas tuvo lugar en el laboratorio 0L3 de los Institutos Universitarios de Investigación, donde se disponía de una superficie de aproximadamente 5 metros por 7 metros completamente libre para usar por el robot.

Debido a la libertad a la hora de recorrer dicha superficie se eligieron tres trayectorias que cubriesen todos los puntos a evaluar, establecidos en una cuadrícula con una separación de 1 metro entre cada uno de ellos de tal forma que se evitase un posible sesgo en el movimiento del robot.

\begin{figure}[H]
    \begin{subfigure}[b]{.3\textwidth}
      \centering
      \def\svgwidth{0.8\linewidth}
	    \input{./fig/lab.pdf_tex} 
      \caption{Puntos a evaluar}
      \label{fig:puntos}
    \end{subfigure}
    \begin{subfigure}[b]{.3\textwidth}
      \centering
      \def\svgwidth{0.8\linewidth}
	    \input{./fig/lab_espiral.pdf_tex} 
      \caption{Trayectoria en espiral}
      \label{fig:espiral}
    \end{subfigure}
    \begin{subfigure}[b]{.3\textwidth}
        \centering
        \def\svgwidth{0.8\linewidth}
	    \input{./fig/lab_vertical.pdf_tex} 
        \caption{Trayectoria en vertical}
        \label{fig:vertical}
      \end{subfigure}
    \caption{Disposición del laboratorio}
    \label{fig:laboratorio}
\end{figure}

La primera de estas trayectorias tenía un recorrido con origen en el centro del laboratorio, acercándose a las paredes exteriores en forma de espiral, con algunas modificaciones para asegurar el paso por todos los puntos.

El segundo trayecto hacía que el robot avanzase de forma recta siguiendo líneas verticales --en el sentido tal y como se ha planteado la representación en dos dimensiones en la figura \ref{fig:vertical}--, con separación de un metro entre cada punto.

Por último se diseñó una trayectoria en la que robot pasase de forma aleatoria por los 35 puntos a medir, de tal forma que en cada intento el orden fuese distinto.

Para comprobar en este escenario ideal el efecto de la colocación de las balizas se repitió la toma de medida en dos configuraciones, colocando 4 y 6 sensores respectivamente.
Teniendo en cuenta que el sistema empleado solo utiliza cuatro de las balizas para el posicionamiento del objetivo, el uso de la configuraciones con 6 de los sensores solo afecta a la posición de dichas baliza en los cálculos, usando siempre los cuatro sensores más cercanos.

La altura a la que fueron colocadas los sensores que actúan como balizas se vio restringida por el mobiliario del laboratorio, de modo que la mayoría se encontraban a unos 180cm del suelo con una de ellas a 80cm y otra a 200cm, aunque el sistema de los sensores permite estas diferencias de alturas en el modo de configuración manual de las balizas.

\begin{figure}[H]
  \begin{subfigure}[b]{.5\textwidth}
    \centering
    \def\svgwidth{0.7\linewidth}
    \input{./fig/lab_4sensores.pdf_tex} 
    \caption{4 balizas}
    \label{fig:lab_4sens}
  \end{subfigure}
  \ \
  \begin{subfigure}[b]{.5\textwidth}
    \centering
    \def\svgwidth{0.82\linewidth}
    \input{./fig/lab_6sensores.pdf_tex}  
    \caption{6 balizas}
    \label{fig:lab_6sens}
  \end{subfigure}
  \caption{Configuraciones de las balizas en el laboratorio}
  \label{fig:lab_sensores}
\end{figure}

\subsection{Edificio de la facultad de Física}

En el segundo escenario aparecen elementos más cercanos a una implementación de un sistema de posicionamiento local habitual: obstáculos en las balizas, que no es posible colocar en cualquier lugar, y un tránsito de personas habitual que podía interferir en la señal del sistema utilizado.

En este caso todas las medidas fueron tomadas utilizando la misma trayectoria, que seguía los pasillos de la planta del edificio al no poder optar a más variaciones.

\begin{figure}[H]
  \begin{subfigure}[b]{.5\textwidth}
    \centering
    \def\svgwidth{0.75\linewidth}
    \input{./fig/fisica_num.pdf_tex} 
    \caption{Puntos a evaluar}
    \label{fig:puntos_fisica}
  \end{subfigure}
  \begin{subfigure}[b]{.5\textwidth}
    \centering
    \def\svgwidth{0.75\linewidth}
    \input{./fig/fisica_tray.pdf_tex} 
    \caption{Trayectoria}
    \label{fig:trayecto_fisica}
  \end{subfigure}
  \caption{Disposición de la planta del edificio de Física}
  \label{fig:fisica}
\end{figure}

Al igual que en el caso del laboratorio, se repitieron las medidas con distintas configuraciones de las balizas, con tres alternativas en este caso: 4, 6 y 8 balizas repartidas de la forma más uniforme posible.

\begin{figure}[H]
  \begin{subfigure}[b]{.3\textwidth}
    \centering
    \def\svgwidth{0.9\linewidth}
    \input{./fig/fisica_4sens.pdf_tex} 
    \caption{4 balizas}
    \label{fig:puntos}
  \end{subfigure}
  \begin{subfigure}[b]{.3\textwidth}
    \centering
    \def\svgwidth{0.9\linewidth}
    \input{./fig/fisica_6sens.pdf_tex}  
    \caption{6 balizas}
    \label{fig:espiral}
  \end{subfigure}
  \begin{subfigure}[b]{.3\textwidth}
      \centering
      \def\svgwidth{0.9\linewidth}
      \input{./fig/fisica_8sens.pdf_tex}  
      \caption{8 balizas}
      \label{fig:vertical}
    \end{subfigure}
  \caption{Configuraciones de las balizas en el edificio de Física}
  \label{fig:sensores_fisica}
\end{figure}

Como en el caso del laboratorio, el kit de sensores UWB utilizado solo usa 4 de las balizas disponibles para estimar la posición del objetivo, por lo que el número mayor de sensores colocados permite una mayor libertad al elegir las balizas con mejor recepción de la señal pero no afinar la estimación con un número mayor de muestras para determinar la intersección de las curvas que definen.

Como es posible ver en la figura \ref{fig:sensores_fisica} la posición de los sensores no es completamente uniforme, debido a que no toda la superficie de la planta estaba disponible por la disposición de los despachos y laboratorios.
En este caso la altura de todas las balizas fue similar, en torno a los 170cm respecto al suelo.